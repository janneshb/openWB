<button class="big_button big_button_relative glowing hidden" id="stop_charging_button" style="opacity: 0;" onclick="stopCharging();">
    <i class="fa fa-pause"></i>
</button>
<span class="kWspan" id="powerSpan">0 kW</span><span class="kWspan" id="energySpan">0 kWh</span>

<button class="big_button big_button_relative rotating hidden" id="loading_charging_button" style="opacity: 0;" disabled>
    <i class="fa fa-spinner"></i>
</button>

<button class="big_button big_button_relative glowing hidden" id="start_charging_button" onclick="startCharging();">
    <i class="fa fa-bolt"></i>
</button>

<button class="big_button big_button_relative no_background hidden inline" id="the_bolt" style="opacity: 0;" disabled>
    <i class="fa fa-bolt"></i>
</button>
<div class="loading-dots inline-block hidden" id="charging_dots"></div>
<button class="big_button big_button_relative no_background hidden inline" id="the_car" style="opacity: 0;" disabled>
    <i class="fa fa-car"></i>
</button>

<div class="container centered hidden" id="charging_speed_container">
    <div class="radio_container">
        <label for="solar"><i class="fa fa-sun"></i></label>
        <input type="radio" checked="checked" name="charging_speed" value="solar" class="chargeModeRadioBtn" id="chargeModeRadioBtnMin" data-chargeMode="1">
        <span>min + PV</span>
    </div>
    <!--<div class="radio_container">
        <label for="slow"><i class="fa fa-frog"></i></label>
        <input type="radio" name="charging_speed" value="slow">
        <span>11kW</span>
    </div>-->
    <div class="radio_container">
        <label for="fast"><i class="fa fa-running"></i></label>
        <input type="radio" name="charging_speed" value="fast" class="chargeModeRadioBtn" id="chargeModeRadioBtnSofort" data-chargeMode="0">
        <span>Sofort</span>
    </div>
</div>

<script>
    $(document).ready(function(){
        // load scripts synchronously in order specified
        var scriptsToLoad = [
            // load mqtt library
            '/openWB/web/js/mqttws31.js',
            // some helper functions
            // '/openWB/web_min/display/cards/helperFunctions.js?ver=20210113',
            // functions for processing messages
            '/openWB/web_min/js/processAllMqttMsg.js?ver=20210301',
            // functions performing mqtt and start mqtt-service
            '/openWB/web_min/js/setupMqttServices.js?ver=20210301',
        ];

        scriptsToLoad.forEach(function(src) {
            var script = document.createElement('script');
            script.src = src;
            script.async = false;
            document.body.appendChild(script);
        });

        $('input[type=radio][name=charging_speed]').change(function() {
            var chargeMode = $(this).attr("data-chargeMode");
            console.log("charge mode changed to " + chargeMode);
            setChargeMode(chargeMode);
        });

        initMinimalInterface();
    });
</script>
